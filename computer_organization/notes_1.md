# 计算机组成 Lecture Notes 1

## 机器有智能吗？

没有！本质上硬件是不具备智能的。是我们编写的计算机程序赋予了计算机以智能。

## 代码的层级

编写的代码是有层次的，从高到低是：

- 高级语言（High-level Language），和所要解决的问题是接近的，方便理解、编写和移植。
- 汇编语言（Assembly Language），接近底层，由很多指令组成。
- 机器语言，由 0、1 二进制码组成，是在硬件层面的表达。

## 计算机体系结构和组成

这是这门课围绕展开的两个概念。

### 计算机体系结构

从概念上来说，计算机体系结构（Computer Architecture）指的是那些**对程序员可见的系统属性**（System Attribute），或者说，是那些会对程序在逻辑层面上的执行造成直接影响的属性。

体系结构的属性包含指令集（Instruction Set）、用来表示各种数据类型的比特数、I/O 机制以及内存寻址技术、流水线（Pipeline）等。例如，是否存在一条乘法指令属于体系结构的范畴。

常见的体系结构包含 x86 架构、MIPS 架构等。

### 计算机组成

计算机组成（Computer Organization）指的是**实现**体系结构规范的**操作单元**（Operation units）及其**相互连接**（Interconnections）。

组成的属性包括那些对程序员可见的硬件细节，如算术逻辑单元、中央处理器（CPU）、控制信号、计算机和外部设备的接口以及存储技术等。例如，一条乘法指令是通过硬件层面的乘法器实现，还是反复使用加法器实现，属于组成的范畴。

### 区别和联系

两者的区别在于：计算机体系结构是关于对程序员而言计算机有什么功能，而计算机组成是关于怎么样实现这些功能。换言之，计算机体系结构给出了计算机的一些系统属性的**抽象描述**，而计算机组成是对这种抽象描述的**具体实现**。

在现实当中，组成不同的芯片可能有着相同的体系结构，目的是为了提供更好的硬件条件。

## 计算机的结构和功能

计算机的结构（Structure）是指计算机的结构部件相互关联的方式。计算机的功能（Function）是指计算机的各个单独结构部件所支持的操作。

两者的区别在于：前者是范围更大的、关于计算机所有结构部件的。而后者是范围更小的、只针对单个结构部件而言的。

## 计算机的主要功能

计算机有四项主要功能：

1. 数据处理（Data Processing）。尽管数据形式、类型多样，但是最基本的方法或者类型只有几种。
2. 数据存储（Data Storage）。因为计算机至少能够短期保存正在参与运算的数据。
3. 数据传送（Data Movement）。计算机需要同外围设备（Peripheral）进行数据的发送和接收。
4. 控制（Control）。计算机应由操作者施加指令，并在内部由控制元件组织完成上面的操作。

这似乎比我们所想的计算机的功能简单的多，原因在于更多功能的专门化、复杂化都发生在编程阶段，而非计算机结构的设计阶段。

## 计算机的主要结构部件

计算机的主要结构部件包括：

- 中央处理单元（Central Processing Unit）：它控制计算机的操作并且执行数据处理功能，通常简单地被称为处理器。
- 主存储器（Main Memory）：存储数据。
- I/O：在计算机及其外部环境之间传输数据。
- 系统互连（System Interconnections）：为 CPU、主存储器和 I/O 之间提供一些通信机制。系统互连的常见例子是利用**系统总线**（System Bus），它由一系列导线组成，所有其他组件连接在导线上。

这里论及的是计算机的内部结构，其与外部环境的所有连接可以划分为**外围设备**和**通信线路**。

## CPU 的主要结构部件

处理器的主要系统部件包括：

- 控制单元（Control Unit）：控制 CPU 以至于整个计算机的操作。
- 算数逻辑单元（Arithmetic and Logic Unit，ALU）：执行计算机的数据处理功能。
- 寄存器（Registers）：提供 CPU 的内部存储。
- CPU 内部互连：提供控制器、ALU 和寄存器之间的某种通信机制。

其中控制单元还可以划分成更小的部分，如顺序逻辑（Sequencing Logic）、控制存储器（Control Unit Memory）等。

## 总结

描述计算机系统，最有效的方法就是**自顶向下**的方法，从系统的主要部件开始，描述每一层次的结构和功能，并逐步推进到底层。上面的从计算机的主要结构部件 -> CPU 的主要结构部件 -> 控制单元的主要结构部件的层层深化就表现了这一描述方法。

## 参考材料

本文的主要内容参考自上海交通大学《计算机组成》（课程代号：EI332）一课的课程材料，以及《Computer Organization and Architecture (8th edition)》（作者：William Stallings）一书。